{"version":3,"file":"CountrySelect.js","names":["React","useCallback","useMemo","PropTypes","classNames","getUnicodeFlagIcon","CountrySelect","_ref","value","onChange","options","disabled","readOnly","rest","_objectWithoutProperties","_excluded","onChange_","event","target","undefined","selectedOption","getSelectedOption","createElement","_extends","map","_ref2","label","divider","key","style","DIVIDER_STYLE","propTypes","string","func","isRequired","arrayOf","shape","bool","fontSize","backgroundColor","color","CountrySelectWithIcon","_ref3","className","Icon","iconComponent","getIconAspectRatio","_ref3$arrowComponent","arrowComponent","Arrow","DefaultArrowComponent","unicodeFlags","_excluded2","country","aspectRatio","elementType","_iterator","_createForOfIteratorHelperLoose","_step","done","option","isSameOptionValue","value1","value2"],"sources":["../source/CountrySelect.js"],"sourcesContent":["import React, { useCallback, useMemo } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport classNames from 'classnames'\r\nimport getUnicodeFlagIcon from 'country-flag-icons/unicode'\r\n\r\nexport default function CountrySelect({\r\n\tvalue,\r\n\tonChange,\r\n\toptions,\r\n\tdisabled,\r\n\treadOnly,\r\n\t...rest\r\n}) {\r\n\tconst onChange_ = useCallback((event) => {\r\n\t\tconst value = event.target.value\r\n\t\tonChange(value === 'ZZ' ? undefined : value)\r\n\t}, [onChange])\r\n\r\n\tconst selectedOption = useMemo(() => {\r\n\t\treturn getSelectedOption(options, value)\r\n\t}, [options, value])\r\n\r\n\t// \"ZZ\" means \"International\".\r\n\t// (HTML requires each `<option/>` have some string `value`).\r\n\treturn (\r\n\t\t<select\r\n\t\t\t{...rest}\r\n\t\t\tdisabled={disabled || readOnly}\r\n\t\t\treadOnly={readOnly}\r\n\t\t\tvalue={value || 'ZZ'}\r\n\t\t\tonChange={onChange_}>\r\n\t\t\t{options.map(({ value, label, divider }) => (\r\n\t\t\t\t<option\r\n\t\t\t\t\tkey={divider ? '|' : value || 'ZZ'}\r\n\t\t\t\t\tvalue={divider ? '|' : value || 'ZZ'}\r\n\t\t\t\t\tdisabled={divider ? true : false}\r\n\t\t\t\t\tstyle={divider ? DIVIDER_STYLE : undefined}>\r\n\t\t\t\t\t{label}\r\n\t\t\t\t</option>\r\n\t\t\t))}\r\n\t\t</select>\r\n\t)\r\n}\r\n\r\nCountrySelect.propTypes = {\r\n\t/**\r\n\t * A two-letter country code.\r\n\t * Example: \"US\", \"RU\", etc.\r\n\t */\r\n\tvalue: PropTypes.string,\r\n\r\n\t/**\r\n\t * A function of `value: string`.\r\n\t * Updates the `value` property.\r\n\t */\r\n\tonChange: PropTypes.func.isRequired,\r\n\r\n\t// `<select/>` options.\r\n\toptions: PropTypes.arrayOf(PropTypes.shape({\r\n\t\tvalue: PropTypes.string,\r\n\t\tlabel: PropTypes.string,\r\n\t\tdivider: PropTypes.bool\r\n\t})).isRequired,\r\n\r\n\t// `readonly` attribute doesn't work on a `<select/>`.\r\n\t// https://github.com/catamphetamine/react-phone-number-input/issues/419#issuecomment-1764384480\r\n\t// https://www.delftstack.com/howto/html/html-select-readonly/\r\n\t// To work around that, if `readOnly: true` property is passed\r\n\t// to this component, it behaves analogous to `disabled: true`.\r\n\tdisabled: PropTypes.bool,\r\n\treadOnly: PropTypes.bool\r\n}\r\n\r\nconst DIVIDER_STYLE = {\r\n\tfontSize: '1px',\r\n\tbackgroundColor: 'currentColor',\r\n\tcolor: 'inherit'\r\n}\r\n\r\nexport function CountrySelectWithIcon({\r\n\tvalue,\r\n\toptions,\r\n\tclassName,\r\n\ticonComponent: Icon,\r\n\tgetIconAspectRatio,\r\n\tarrowComponent: Arrow = DefaultArrowComponent,\r\n\tunicodeFlags,\r\n\t...rest\r\n}) {\r\n\tconst selectedOption = useMemo(() => {\r\n\t\treturn getSelectedOption(options, value)\r\n\t}, [options, value])\r\n\r\n\treturn (\r\n\t\t<div className=\"PhoneInputCountry\">\r\n\t\t\t<CountrySelect\r\n\t\t\t\t{...rest}\r\n\t\t\t\tvalue={value}\r\n\t\t\t\toptions={options}\r\n\t\t\t\tclassName={classNames('PhoneInputCountrySelect', className)}\r\n\t\t\t/>\r\n\r\n\t\t\t{/* Either a Unicode flag icon or an SVG flag icon. */}\r\n\t\t\t{selectedOption && (\r\n\t\t\t\tunicodeFlags && value ? (\r\n\t\t\t\t\t<div className=\"PhoneInputCountryIconUnicode\">\r\n\t\t\t\t\t\t{getUnicodeFlagIcon(value)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<Icon\r\n\t\t\t\t\t\taria-hidden\r\n\t\t\t\t\t\tcountry={value}\r\n\t\t\t\t\t\tlabel={selectedOption.label}\r\n\t\t\t\t\t\taspectRatio={unicodeFlags ? 1 : undefined}\r\n\t\t\t\t\t/>\r\n\t\t\t\t)\r\n\t\t\t)}\r\n\r\n\t\t\t<Arrow/>\r\n\t\t</div>\r\n\t)\r\n}\r\n\r\nCountrySelectWithIcon.propTypes = {\r\n\t// Country flag component.\r\n\ticonComponent: PropTypes.elementType,\r\n\r\n\t// Select arrow component.\r\n\tarrowComponent: PropTypes.elementType,\r\n\r\n\t// Set to `true` to render Unicode flag icons instead of SVG images.\r\n\tunicodeFlags: PropTypes.bool\r\n}\r\n\r\nfunction DefaultArrowComponent() {\r\n\treturn <div className=\"PhoneInputCountrySelectArrow\"/>\r\n}\r\n\r\nfunction getSelectedOption(options, value) {\r\n\tfor (const option of options) {\r\n\t\tif (!option.divider) {\r\n\t\t\tif (isSameOptionValue(option.value, value)) {\r\n\t\t\t\treturn option\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction isSameOptionValue(value1, value2) {\r\n\t// `undefined` is identical to `null`: both mean \"no country selected\".\r\n\tif (value1 === undefined || value1 === null) {\r\n\t\treturn value2 === undefined || value2 === null\r\n\t}\r\n\treturn value1 === value2\r\n}"],"mappings":"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","ignoreList":[]}