shadow$provide.module$node_modules$libphonenumber_js$build$parse = function(global, require, module, exports) {
  function _typeof(obj) {
    "@babel/helpers - typeof";
    return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
      return typeof obj;
    } : function(obj) {
      return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    }, _typeof(obj);
  }
  function _getRequireWildcardCache(nodeInterop) {
    if ("function" !== typeof WeakMap) {
      return null;
    }
    var cacheBabelInterop = new WeakMap(), cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
      return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
  }
  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {"default":obj};
  }
  function parseInput(text, v2, extract) {
    text = (0,_extractFormattedPhoneNumberFromPossibleRfc3966NumberUri["default"])(text, {extractFormattedPhoneNumber:function(text) {
      a: {
        if (text) {
          if (text.length > MAX_INPUT_STRING_LENGTH) {
            if (v2) {
              throw new _ParseError["default"]("TOO_LONG");
            }
          } else {
            if (!1 === extract) {
              break a;
            }
            var startsAt = text.search(PHONE_NUMBER_START_PATTERN);
            if (!(0 > startsAt)) {
              text = text.slice(startsAt).replace(AFTER_PHONE_NUMBER_END_PATTERN, "");
              break a;
            }
          }
        }
        text = void 0;
      }
      return text;
    }});
    if (!text) {
      return {};
    }
    if (!(0,_isViablePhoneNumber["default"])(text)) {
      return (0,_isViablePhoneNumber.isViablePhoneNumberStart)(text) ? {error:"TOO_SHORT"} : {};
    }
    var withExtensionStripped = (0,_extractExtension["default"])(text);
    return withExtensionStripped.ext ? withExtensionStripped : {number:text};
  }
  Object.defineProperty(exports, "__esModule", {value:!0});
  exports["default"] = function(text, options, metadata) {
    var JSCompiler_object_inline_countryCallingCodeSource_323;
    options = options || {};
    metadata = new _metadata["default"](metadata);
    if (options.defaultCountry && !metadata.hasCountry(options.defaultCountry)) {
      if (options.v2) {
        throw new _ParseError["default"]("INVALID_COUNTRY");
      }
      throw Error("Unknown country: ".concat(options.defaultCountry));
    }
    var JSCompiler_object_inline_countryCallingCode_324 = parseInput(text, options.v2, options.extract);
    var formattedPhoneNumber = JSCompiler_object_inline_countryCallingCode_324.number;
    text = JSCompiler_object_inline_countryCallingCode_324.ext;
    JSCompiler_object_inline_countryCallingCode_324 = JSCompiler_object_inline_countryCallingCode_324.error;
    if (!formattedPhoneNumber) {
      if (options.v2) {
        if ("TOO_SHORT" === JSCompiler_object_inline_countryCallingCode_324) {
          throw new _ParseError["default"]("TOO_SHORT");
        }
        throw new _ParseError["default"]("NOT_A_NUMBER");
      }
      return {};
    }
    a: {
      var JSCompiler_object_inline_carrierCode_327 = options.defaultCountry;
      var JSCompiler_object_inline_nationalNumber_326 = options.defaultCallingCode;
      var JSCompiler_object_inline_country_325 = metadata;
      var _extractCountryCallin = (0,_extractCountryCallingCode["default"])((0,_parseIncompletePhoneNumber["default"])(formattedPhoneNumber), JSCompiler_object_inline_carrierCode_327, JSCompiler_object_inline_nationalNumber_326, JSCompiler_object_inline_country_325.metadata);
      formattedPhoneNumber = _extractCountryCallin.countryCallingCodeSource;
      JSCompiler_object_inline_countryCallingCode_324 = _extractCountryCallin.countryCallingCode;
      _extractCountryCallin = _extractCountryCallin.number;
      if (JSCompiler_object_inline_countryCallingCode_324) {
        JSCompiler_object_inline_country_325.selectNumberingPlan(JSCompiler_object_inline_countryCallingCode_324);
      } else if (_extractCountryCallin && (JSCompiler_object_inline_carrierCode_327 || JSCompiler_object_inline_nationalNumber_326)) {
        JSCompiler_object_inline_country_325.selectNumberingPlan(JSCompiler_object_inline_carrierCode_327, JSCompiler_object_inline_nationalNumber_326), JSCompiler_object_inline_carrierCode_327 ? JSCompiler_object_inline_countryCallingCodeSource_323 = JSCompiler_object_inline_carrierCode_327 : USE_NON_GEOGRAPHIC_COUNTRY_CODE && JSCompiler_object_inline_country_325.isNonGeographicCallingCode(JSCompiler_object_inline_nationalNumber_326) && (JSCompiler_object_inline_countryCallingCodeSource_323 = "001"), 
        JSCompiler_object_inline_countryCallingCode_324 = JSCompiler_object_inline_nationalNumber_326 || (0,_getCountryCallingCode["default"])(JSCompiler_object_inline_carrierCode_327, JSCompiler_object_inline_country_325.metadata);
      } else {
        JSCompiler_object_inline_carrierCode_327 = JSCompiler_object_inline_nationalNumber_326 = JSCompiler_object_inline_country_325 = JSCompiler_object_inline_countryCallingCode_324 = JSCompiler_object_inline_countryCallingCodeSource_323 = void 0;
        break a;
      }
      if (_extractCountryCallin) {
        _extractCountryCallin = (0,_extractNationalNumber["default"])((0,_parseIncompletePhoneNumber["default"])(_extractCountryCallin), JSCompiler_object_inline_country_325);
        JSCompiler_object_inline_nationalNumber_326 = _extractCountryCallin.nationalNumber;
        _extractCountryCallin = _extractCountryCallin.carrierCode;
        if (JSCompiler_object_inline_carrierCode_327 = (0,_getCountryByCallingCode["default"])(JSCompiler_object_inline_countryCallingCode_324, {nationalNumber:JSCompiler_object_inline_nationalNumber_326, defaultCountry:JSCompiler_object_inline_carrierCode_327, metadata:JSCompiler_object_inline_country_325})) {
          JSCompiler_object_inline_countryCallingCodeSource_323 = JSCompiler_object_inline_carrierCode_327, "001" !== JSCompiler_object_inline_carrierCode_327 && JSCompiler_object_inline_country_325.country(JSCompiler_object_inline_countryCallingCodeSource_323);
        }
        JSCompiler_object_inline_country_325 = JSCompiler_object_inline_countryCallingCodeSource_323;
        JSCompiler_object_inline_countryCallingCodeSource_323 = formattedPhoneNumber;
        JSCompiler_object_inline_carrierCode_327 = _extractCountryCallin;
      } else {
        JSCompiler_object_inline_countryCallingCodeSource_323 = formattedPhoneNumber, JSCompiler_object_inline_carrierCode_327 = JSCompiler_object_inline_nationalNumber_326 = JSCompiler_object_inline_country_325 = void 0;
      }
    }
    formattedPhoneNumber = JSCompiler_object_inline_country_325;
    JSCompiler_object_inline_country_325 = JSCompiler_object_inline_nationalNumber_326;
    if (!metadata.hasSelectedNumberingPlan()) {
      if (options.v2) {
        throw new _ParseError["default"]("INVALID_COUNTRY");
      }
      return {};
    }
    if (!JSCompiler_object_inline_country_325 || JSCompiler_object_inline_country_325.length < _constants.MIN_LENGTH_FOR_NSN) {
      if (options.v2) {
        throw new _ParseError["default"]("TOO_SHORT");
      }
      return {};
    }
    if (JSCompiler_object_inline_country_325.length > _constants.MAX_LENGTH_FOR_NSN) {
      if (options.v2) {
        throw new _ParseError["default"]("TOO_LONG");
      }
      return {};
    }
    if (options.v2) {
      return options = new _PhoneNumber["default"](JSCompiler_object_inline_countryCallingCode_324, JSCompiler_object_inline_country_325, metadata.metadata), formattedPhoneNumber && (options.country = formattedPhoneNumber), JSCompiler_object_inline_carrierCode_327 && (options.carrierCode = JSCompiler_object_inline_carrierCode_327), text && (options.ext = text), options.__countryCallingCodeSource = JSCompiler_object_inline_countryCallingCodeSource_323, options;
    }
    JSCompiler_object_inline_countryCallingCodeSource_323 = (options.extended ? metadata.hasSelectedNumberingPlan() : formattedPhoneNumber) ? (0,_matchesEntirely["default"])(JSCompiler_object_inline_country_325, metadata.nationalNumberPattern()) : !1;
    return options.extended ? {country:formattedPhoneNumber, countryCallingCode:JSCompiler_object_inline_countryCallingCode_324, carrierCode:JSCompiler_object_inline_carrierCode_327, valid:JSCompiler_object_inline_countryCallingCodeSource_323, possible:JSCompiler_object_inline_countryCallingCodeSource_323 ? !0 : !0 === options.extended && metadata.possibleLengths() && (0,_isPossible.isPossibleNumber)(JSCompiler_object_inline_country_325, metadata) ? !0 : !1, phone:JSCompiler_object_inline_country_325, 
    ext:text} : (JSCompiler_object_inline_countryCallingCodeSource_323 ? (options = {country:formattedPhoneNumber, phone:JSCompiler_object_inline_country_325}, text && (options.ext = text), text = options) : text = {}, text);
  };
  var _constants = require("module$node_modules$libphonenumber_js$build$constants"), _ParseError = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$ParseError")), _metadata = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$metadata")), _isViablePhoneNumber = function(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
      return obj;
    }
    if (null === obj || "object" !== _typeof(obj) && "function" !== typeof obj) {
      return {"default":obj};
    }
    if ((nodeInterop = _getRequireWildcardCache(nodeInterop)) && nodeInterop.has(obj)) {
      return nodeInterop.get(obj);
    }
    var newObj = {}, hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor, key;
    for (key in obj) {
      if ("default" !== key && Object.prototype.hasOwnProperty.call(obj, key)) {
        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
        desc && (desc.get || desc.set) ? Object.defineProperty(newObj, key, desc) : newObj[key] = obj[key];
      }
    }
    newObj["default"] = obj;
    nodeInterop && nodeInterop.set(obj, newObj);
    return newObj;
  }(require("module$node_modules$libphonenumber_js$build$helpers$isViablePhoneNumber")), _extractExtension = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$extension$extractExtension")), _parseIncompletePhoneNumber = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$parseIncompletePhoneNumber")), _getCountryCallingCode = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$getCountryCallingCode")), _isPossible = 
  require("module$node_modules$libphonenumber_js$build$isPossible"), _PhoneNumber = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$PhoneNumber")), _matchesEntirely = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$matchesEntirely")), _extractCountryCallingCode = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$extractCountryCallingCode")), _extractNationalNumber = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$extractNationalNumber"));
  _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$stripIddPrefix"));
  var _getCountryByCallingCode = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$getCountryByCallingCode")), _extractFormattedPhoneNumberFromPossibleRfc3966NumberUri = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$extractFormattedPhoneNumberFromPossibleRfc3966NumberUri")), MAX_INPUT_STRING_LENGTH = 250, PHONE_NUMBER_START_PATTERN = new RegExp("[" + _constants.PLUS_CHARS + _constants.VALID_DIGITS + "]"), AFTER_PHONE_NUMBER_END_PATTERN = 
  new RegExp("[^" + _constants.VALID_DIGITS + "#]+$"), USE_NON_GEOGRAPHIC_COUNTRY_CODE = !1;
};

//# sourceMappingURL=module$node_modules$libphonenumber_js$build$parse.js.map
