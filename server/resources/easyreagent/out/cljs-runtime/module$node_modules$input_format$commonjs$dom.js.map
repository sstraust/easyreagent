{
"version":3,
"file":"module$node_modules$input_format$commonjs$dom.js",
"lineCount":35,
"mappings":"AAAAA,cAAA,CAAA,6CAAA,GAAkE,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAG1GC,QAAOC,CAAAA,cAAP,CAAsBF,OAAtB,EAA+B,YAA/B,EAA6C,CAC3CG,MAAO,CAAA,CADoC,CAA7C,CAAA;AAGAH,SAAQI,CAAAA,IAAR,GAAe,IAAK,EAApB;AACAJ,SAAQK,CAAAA,gBAAR,GA2CAA,QAAyB,CAACC,OAAD,CAAU;AACjC,WAAOA,OAAQC,CAAAA,cAAf;AADiC,GA3CnC;AACAP,SAAQQ,CAAAA,YAAR,GA+BAA,QAAqB,CAACC,KAAD,CAAQ;AAC3B,WAAQA,KAAMC,CAAAA,OAAd;AACE,WAAKN,IAAKO,CAAAA,SAAV;AACE,eAAO,WAAP;AAEF,WAAKP,IAAKQ,CAAAA,MAAV;AACE,eAAO,QAAP;AALJ;AAD2B,GA/B7B;AACAZ,SAAQa,CAAAA,YAAR,GASAA,QAAqB,CAACP,OAAD,CAAU;AAE7B,QAAIA,OAAQC,CAAAA,cAAZ,KAA+BD,OAAQQ,CAAAA,YAAvC;AAIA,aAAO,CACLC,MAAOT,OAAQC,CAAAA,cADV,EAELS,IAAKV,OAAQQ,CAAAA,YAFR,CAAP;AAJA;AAF6B,GAT/B;AACAd,SAAQiB,CAAAA,UAAR,GAGAA,QAAmB,CAACX,OAAD,CAAU;AAC3B,WAAOA,OAAQY,CAAAA,YAAR,CAAqB,UAArB,CAAP;AAD2B,GAH7B;AACAlB,SAAQmB,CAAAA,gBAAR,GA4CAA,QAAyB,CAACb,OAAD,EAAUc,cAAV,CAA0B;AAEjD,QAAuBC,IAAAA,EAAvB,KAAID,cAAJ,CAAA;AA2BE,UAAA,2BADuB,WAAzB,KAAI,MAAOE,UAAX,GACSC,0BAA2BC,CAAAA,IAA3B,CAAgCF,SAAUG,CAAAA,SAA1C,CADT,GAFmB,IAAA,EAGjB;AAZE,8BAAJ,GACEC,UAAA,CAAW,QAAS,EAAG;AACrB,eAAOpB,OAAQqB,CAAAA,iBAAR,CAA0BP,cAA1B,EAA0CA,cAA1C,CAAP;AADqB,OAAvB,EAEG,CAFH,CADF,GAKEd,OAAQqB,CAAAA,iBAAR,CAA0BP,cAA1B,EAA0CA,cAA1C,CALF;AAfA;AAFiD,GA5CnD;AAoBA,MAAIhB,OAAO,CACTO,UAAW,CADF,EAETC,OAAQ,EAFC,CAAX;AAMAZ,SAAQI,CAAAA,IAAR,GAAeA,IAAf;AAmDA,MAAImB,6BAA6B,UAAjC;AAxF0G,CAA1G;;",
"sources":["node_modules/input-format/commonjs/dom.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$input_format$commonjs$dom\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.Keys = void 0;\nexports.getCaretPosition = getCaretPosition;\nexports.getOperation = getOperation;\nexports.getSelection = getSelection;\nexports.isReadOnly = isReadOnly;\nexports.setCaretPosition = setCaretPosition;\n\nfunction isReadOnly(element) {\n  return element.hasAttribute('readonly');\n} // Gets <input/> selection bounds\n\n\nfunction getSelection(element) {\n  // If no selection, return nothing\n  if (element.selectionStart === element.selectionEnd) {\n    return;\n  }\n\n  return {\n    start: element.selectionStart,\n    end: element.selectionEnd\n  };\n} // Key codes\n\n\nvar Keys = {\n  Backspace: 8,\n  Delete: 46\n}; // Finds out the operation to be intercepted and performed\n// based on the key down event `keyCode`.\n\nexports.Keys = Keys;\n\nfunction getOperation(event) {\n  switch (event.keyCode) {\n    case Keys.Backspace:\n      return 'Backspace';\n\n    case Keys.Delete:\n      return 'Delete';\n  }\n} // Gets <input/> caret position\n\n\nfunction getCaretPosition(element) {\n  return element.selectionStart;\n} // Sets <input/> caret position\n\n\nfunction setCaretPosition(element, caret_position) {\n  // Sanity check\n  if (caret_position === undefined) {\n    return;\n  } // Set caret position.\n  // There has been an issue with caret positioning on Android devices.\n  // https://github.com/catamphetamine/input-format/issues/2\n  // I was revisiting this issue and looked for similar issues in other libraries.\n  // For example, there's [`text-mask`](https://github.com/text-mask/text-mask) library.\n  // They've had exactly the same issue when the caret seemingly refused to be repositioned programmatically.\n  // The symptoms were the same: whenever the caret passed through a non-digit character of a mask (a whitespace, a bracket, a dash, etc), it looked as if it placed itself one character before its correct position.\n  // https://github.com/text-mask/text-mask/issues/300\n  // They seem to have found a basic fix for it: calling `input.setSelectionRange()` in a timeout rather than instantly for Android devices.\n  // https://github.com/text-mask/text-mask/pull/400/files\n  // I've implemented the same workaround here.\n\n\n  if (isAndroid()) {\n    setTimeout(function () {\n      return element.setSelectionRange(caret_position, caret_position);\n    }, 0);\n  } else {\n    element.setSelectionRange(caret_position, caret_position);\n  }\n}\n\nfunction isAndroid() {\n  // `navigator` is not defined when running mocha tests.\n  if (typeof navigator !== 'undefined') {\n    return ANDROID_USER_AGENT_REG_EXP.test(navigator.userAgent);\n  }\n}\n\nvar ANDROID_USER_AGENT_REG_EXP = /Android/i;\n//# sourceMappingURL=dom.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","Keys","getCaretPosition","element","selectionStart","getOperation","event","keyCode","Backspace","Delete","getSelection","selectionEnd","start","end","isReadOnly","hasAttribute","setCaretPosition","caret_position","undefined","navigator","ANDROID_USER_AGENT_REG_EXP","test","userAgent","setTimeout","setSelectionRange"]
}
