shadow$provide.module$node_modules$libphonenumber_js$build$AsYouTypeParser = function(global, require, module, exports) {
  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {"default":obj};
  }
  function _slicedToArray(arr, i) {
    var JSCompiler_temp = Array.isArray(arr) ? arr : void 0;
    if (!JSCompiler_temp) {
      if (JSCompiler_temp = null == arr ? null : "undefined" !== typeof Symbol && arr[Symbol.iterator] || arr["@@iterator"], null == JSCompiler_temp) {
        JSCompiler_temp = void 0;
      } else {
        var _arr = [], _n = !0, _d = !1, _s;
        try {
          for (JSCompiler_temp = JSCompiler_temp.call(arr); !(_n = (_s = JSCompiler_temp.next()).done) && (_arr.push(_s.value), !i || _arr.length !== i); _n = !0) {
          }
        } catch (err) {
          _d = !0;
          var _e = err;
        } finally {
          try {
            if (!_n && null != JSCompiler_temp["return"]) {
              JSCompiler_temp["return"]();
            }
          } finally {
            if (_d) {
              throw _e;
            }
          }
        }
        JSCompiler_temp = _arr;
      }
    }
    if (!(_s = JSCompiler_temp)) {
      a: {
        if (arr) {
          if ("string" === typeof arr) {
            _s = _arrayLikeToArray(arr, i);
            break a;
          }
          _s = Object.prototype.toString.call(arr).slice(8, -1);
          "Object" === _s && arr.constructor && (_s = arr.constructor.name);
          if ("Map" === _s || "Set" === _s) {
            _s = Array.from(arr);
            break a;
          }
          if ("Arguments" === _s || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_s)) {
            _s = _arrayLikeToArray(arr, i);
            break a;
          }
        }
        _s = void 0;
      }
    }
    if (!(arr = _s)) {
      throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
    }
    return arr;
  }
  function _arrayLikeToArray(arr, len) {
    if (null == len || len > arr.length) {
      len = arr.length;
    }
    for (var i = 0, arr2 = Array(len); i < len; i++) {
      arr2[i] = arr[i];
    }
    return arr2;
  }
  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || !1;
      descriptor.configurable = !0;
      "value" in descriptor && (descriptor.writable = !0);
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }
  function _createClass(Constructor, protoProps, staticProps) {
    protoProps && _defineProperties(Constructor.prototype, protoProps);
    staticProps && _defineProperties(Constructor, staticProps);
    Object.defineProperty(Constructor, "prototype", {writable:!1});
    return Constructor;
  }
  function extractFormattedDigitsAndPlus(text) {
    var startsAt = text.search(VALID_FORMATTED_PHONE_NUMBER_PART);
    if (0 > startsAt) {
      var _extractFormattedDigi3 = void 0;
    } else {
      text = text.slice(startsAt), "+" === text[0] && (_extractFormattedDigi3 = !0, text = text.slice(1)), text = text.replace(AFTER_PHONE_NUMBER_DIGITS_END_PATTERN, ""), _extractFormattedDigi3 && (text = "+" + text), _extractFormattedDigi3 = text;
    }
    _extractFormattedDigi3 = _extractFormattedDigi3 || "";
    _extractFormattedDigi3 = "+" === _extractFormattedDigi3[0] ? [_extractFormattedDigi3.slice(1), !0] : [_extractFormattedDigi3];
    text = _slicedToArray(_extractFormattedDigi3, 2);
    _extractFormattedDigi3 = text[0];
    text = text[1];
    VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN.test(_extractFormattedDigi3) || (_extractFormattedDigi3 = "");
    return [_extractFormattedDigi3, text];
  }
  Object.defineProperty(exports, "__esModule", {value:!0});
  exports["default"] = void 0;
  exports.extractFormattedDigitsAndPlus = extractFormattedDigitsAndPlus;
  var _extractCountryCallingCode2 = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$extractCountryCallingCode")), _extractCountryCallingCodeFromInternationalNumberWithoutPlusSign = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$extractCountryCallingCodeFromInternationalNumberWithoutPlusSign")), _extractNationalNumberFromPossiblyIncompleteNumber = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$extractNationalNumberFromPossiblyIncompleteNumber")), 
  _stripIddPrefix = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$stripIddPrefix")), _parseDigits = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$parseDigits"));
  global = require("module$node_modules$libphonenumber_js$build$constants");
  var VALID_FORMATTED_PHONE_NUMBER_DIGITS_PART_PATTERN = new RegExp("^" + ("[" + global.VALID_PUNCTUATION + global.VALID_DIGITS + "]+$"), "i"), VALID_FORMATTED_PHONE_NUMBER_PART = "(?:[" + global.PLUS_CHARS + "][" + global.VALID_PUNCTUATION + global.VALID_DIGITS + "]*|[" + global.VALID_PUNCTUATION + global.VALID_DIGITS + "]+)", AFTER_PHONE_NUMBER_DIGITS_END_PATTERN = new RegExp("[^" + global.VALID_PUNCTUATION + global.VALID_DIGITS + "]+.*$"), COMPLEX_NATIONAL_PREFIX = /[^\d\[\]]/;
  global = function() {
    function AsYouTypeParser(_ref) {
      var defaultCountry = _ref.defaultCountry, defaultCallingCode = _ref.defaultCallingCode, metadata = _ref.metadata;
      _ref = _ref.onNationalSignificantNumberChange;
      if (!(this instanceof AsYouTypeParser)) {
        throw new TypeError("Cannot call a class as a function");
      }
      this.defaultCountry = defaultCountry;
      this.defaultCallingCode = defaultCallingCode;
      this.metadata = metadata;
      this.onNationalSignificantNumberChange = _ref;
    }
    _createClass(AsYouTypeParser, [{key:"input", value:function(text, state) {
      text = extractFormattedDigitsAndPlus(text);
      var _extractFormattedDigi2 = _slicedToArray(text, 2);
      text = _extractFormattedDigi2[1];
      _extractFormattedDigi2 = (0,_parseDigits["default"])(_extractFormattedDigi2[0]);
      var justLeadingPlus;
      text && !state.digits && (state.startInternationalNumber(), _extractFormattedDigi2 || (justLeadingPlus = !0));
      _extractFormattedDigi2 && this.inputDigits(_extractFormattedDigi2, state);
      return {digits:_extractFormattedDigi2, justLeadingPlus};
    }}, {key:"inputDigits", value:function(nextDigits, state) {
      var digits = state.digits;
      digits = 3 > digits.length && 3 <= digits.length + nextDigits.length;
      state.appendDigits(nextDigits);
      digits && this.extractIddPrefix(state);
      if (this.isWaitingForCountryCallingCode(state)) {
        if (!this.extractCountryCallingCode(state)) {
          return;
        }
      } else {
        state.appendNationalSignificantNumberDigits(nextDigits);
      }
      state.international || this.hasExtractedNationalSignificantNumber || this.extractNationalSignificantNumber(state.getNationalDigits(), function(stateUpdate) {
        return state.update(stateUpdate);
      });
    }}, {key:"isWaitingForCountryCallingCode", value:function(_ref2) {
      var callingCode = _ref2.callingCode;
      return _ref2.international && !callingCode;
    }}, {key:"extractCountryCallingCode", value:function(state) {
      var _extractCountryCallin = (0,_extractCountryCallingCode2["default"])("+" + state.getDigitsWithoutInternationalPrefix(), this.defaultCountry, this.defaultCallingCode, this.metadata.metadata), countryCallingCode = _extractCountryCallin.countryCallingCode;
      _extractCountryCallin = _extractCountryCallin.number;
      if (countryCallingCode) {
        return state.setCallingCode(countryCallingCode), state.update({nationalSignificantNumber:_extractCountryCallin}), !0;
      }
    }}, {key:"reset", value:function(numberingPlan) {
      numberingPlan ? (this.hasSelectedNumberingPlan = !0, this.couldPossiblyExtractAnotherNationalSignificantNumber = (numberingPlan = numberingPlan._nationalPrefixForParsing()) && COMPLEX_NATIONAL_PREFIX.test(numberingPlan)) : this.couldPossiblyExtractAnotherNationalSignificantNumber = this.hasSelectedNumberingPlan = void 0;
    }}, {key:"extractNationalSignificantNumber", value:function(nationalDigits, setState) {
      if (this.hasSelectedNumberingPlan) {
        var _extractNationalNumbe = (0,_extractNationalNumberFromPossiblyIncompleteNumber["default"])(nationalDigits, this.metadata), nationalNumber = _extractNationalNumbe.nationalNumber;
        if (nationalNumber !== nationalDigits) {
          return this.onExtractedNationalNumber(_extractNationalNumbe.nationalPrefix, _extractNationalNumbe.carrierCode, nationalNumber, nationalDigits, setState), !0;
        }
      }
    }}, {key:"extractAnotherNationalSignificantNumber", value:function(nationalDigits, prevNationalSignificantNumber, setState) {
      if (!this.hasExtractedNationalSignificantNumber) {
        return this.extractNationalSignificantNumber(nationalDigits, setState);
      }
      if (this.couldPossiblyExtractAnotherNationalSignificantNumber) {
        var _extractNationalNumbe2 = (0,_extractNationalNumberFromPossiblyIncompleteNumber["default"])(nationalDigits, this.metadata), nationalNumber = _extractNationalNumbe2.nationalNumber;
        if (nationalNumber !== prevNationalSignificantNumber) {
          return this.onExtractedNationalNumber(_extractNationalNumbe2.nationalPrefix, _extractNationalNumbe2.carrierCode, nationalNumber, nationalDigits, setState), !0;
        }
      }
    }}, {key:"onExtractedNationalNumber", value:function(nationalPrefix, carrierCode, nationalSignificantNumber, nationalDigits, setState) {
      var complexPrefixBeforeNationalSignificantNumber, nationalSignificantNumberIndex = nationalDigits.lastIndexOf(nationalSignificantNumber);
      if (0 <= nationalSignificantNumberIndex && nationalSignificantNumberIndex === nationalDigits.length - nationalSignificantNumber.length) {
        var nationalSignificantNumberMatchesInput = !0;
        nationalDigits = nationalDigits.slice(0, nationalSignificantNumberIndex);
        nationalDigits !== nationalPrefix && (complexPrefixBeforeNationalSignificantNumber = nationalDigits);
      }
      setState({nationalPrefix, carrierCode, nationalSignificantNumber, nationalSignificantNumberMatchesInput, complexPrefixBeforeNationalSignificantNumber});
      this.hasExtractedNationalSignificantNumber = !0;
      this.onNationalSignificantNumberChange();
    }}, {key:"reExtractNationalSignificantNumber", value:function(state) {
      if (this.extractAnotherNationalSignificantNumber(state.getNationalDigits(), state.nationalSignificantNumber, function(stateUpdate) {
        return state.update(stateUpdate);
      })) {
        return !0;
      }
      if (this.extractIddPrefix(state) || this.fixMissingPlus(state)) {
        return this.extractCallingCodeAndNationalSignificantNumber(state), !0;
      }
    }}, {key:"extractIddPrefix", value:function(state) {
      var IDDPrefix = state.IDDPrefix, digits = state.digits;
      if (!state.international && !IDDPrefix && (IDDPrefix = (0,_stripIddPrefix["default"])(digits, this.defaultCountry, this.defaultCallingCode, this.metadata.metadata), void 0 !== IDDPrefix && IDDPrefix !== digits)) {
        return state.update({IDDPrefix:digits.slice(0, digits.length - IDDPrefix.length)}), this.startInternationalNumber(state, {country:void 0, callingCode:void 0}), !0;
      }
    }}, {key:"fixMissingPlus", value:function(state) {
      if (!state.international) {
        var newCallingCode = (0,_extractCountryCallingCodeFromInternationalNumberWithoutPlusSign["default"])(state.digits, this.defaultCountry, this.defaultCallingCode, this.metadata.metadata).countryCallingCode;
        if (newCallingCode) {
          return state.update({missingPlus:!0}), this.startInternationalNumber(state, {country:state.country, callingCode:newCallingCode}), !0;
        }
      }
    }}, {key:"startInternationalNumber", value:function(state, _ref3) {
      state.startInternationalNumber(_ref3.country, _ref3.callingCode);
      state.nationalSignificantNumber && (state.resetNationalSignificantNumber(), this.onNationalSignificantNumberChange(), this.hasExtractedNationalSignificantNumber = void 0);
    }}, {key:"extractCallingCodeAndNationalSignificantNumber", value:function(state) {
      this.extractCountryCallingCode(state) && this.extractNationalSignificantNumber(state.getNationalDigits(), function(stateUpdate) {
        return state.update(stateUpdate);
      });
    }}]);
    return AsYouTypeParser;
  }();
  exports["default"] = global;
};

//# sourceMappingURL=module$node_modules$libphonenumber_js$build$AsYouTypeParser.js.map
