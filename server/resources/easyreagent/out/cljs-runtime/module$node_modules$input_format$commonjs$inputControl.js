shadow$provide.module$node_modules$input_format$commonjs$inputControl = function(global, require, module, exports) {
  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {"default":obj};
  }
  function eraseSelection(input, selection) {
    var text = input.value;
    text = text.slice(0, selection.start) + text.slice(selection.end);
    input.value = text;
    (0,_dom.setCaretPosition)(input, selection.start);
  }
  function formatInputText(input, _parse, _format, operation, on_change) {
    var _parse2 = (0,_parse3["default"])(input.value, (0,_dom.getCaretPosition)(input), _parse);
    _parse = _parse2.value;
    _parse2 = _parse2.caret;
    operation && (operation = (0,_edit["default"])(_parse, _parse2, operation), _parse = operation.value, _parse2 = operation.caret);
    operation = (0,_format2["default"])(_parse, _parse2, _format);
    _format = operation.text;
    _parse2 = operation.caret;
    input.value = _format;
    (0,_dom.setCaretPosition)(input, _parse2);
    on_change && on_change(_parse);
  }
  Object.defineProperty(exports, "__esModule", {value:!0});
  exports.onChange = function(event, input, _parse, _format, on_change) {
    formatInputText(input, _parse, _format, void 0, on_change);
  };
  exports.onCut = function(event, input, _parse, _format, on_change) {
    (0,_dom.isReadOnly)(input) || setTimeout(function() {
      return formatInputText(input, _parse, _format, void 0, on_change);
    }, 0);
  };
  exports.onKeyDown = function(event, input, _parse, _format, on_change) {
    if (!(0,_dom.isReadOnly)(input)) {
      var operation = (0,_dom.getOperation)(event);
      switch(operation) {
        case "Delete":
        case "Backspace":
          return event.preventDefault(), (event = (0,_dom.getSelection)(input)) ? (eraseSelection(input, event), formatInputText(input, _parse, _format, void 0, on_change)) : formatInputText(input, _parse, _format, operation, on_change);
      }
    }
  };
  exports.onPaste = function(event, input, _parse, _format, on_change) {
    (0,_dom.isReadOnly)(input) || ((event = (0,_dom.getSelection)(input)) && eraseSelection(input, event), formatInputText(input, _parse, _format, void 0, on_change));
  };
  var _edit = _interopRequireDefault(require("module$node_modules$input_format$commonjs$edit")), _parse3 = _interopRequireDefault(require("module$node_modules$input_format$commonjs$parse")), _format2 = _interopRequireDefault(require("module$node_modules$input_format$commonjs$format")), _dom = require("module$node_modules$input_format$commonjs$dom");
};

//# sourceMappingURL=module$node_modules$input_format$commonjs$inputControl.js.map
