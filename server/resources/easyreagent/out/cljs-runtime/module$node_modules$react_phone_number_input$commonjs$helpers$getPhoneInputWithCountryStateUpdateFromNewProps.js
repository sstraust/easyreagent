shadow$provide.module$node_modules$react_phone_number_input$commonjs$helpers$getPhoneInputWithCountryStateUpdateFromNewProps = function(global, require, module, exports) {
  function _typeof(o) {
    "@babel/helpers - typeof";
    return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(o) {
      return typeof o;
    } : function(o) {
      return o && "function" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? "symbol" : typeof o;
    }, _typeof(o);
  }
  function ownKeys(e, r) {
    var t = Object.keys(e);
    if (Object.getOwnPropertySymbols) {
      var o = Object.getOwnPropertySymbols(e);
      r && (o = o.filter(function(r) {
        return Object.getOwnPropertyDescriptor(e, r).enumerable;
      }));
      t.push.apply(t, o);
    }
    return t;
  }
  function _objectSpread(e$jscomp$0) {
    for (var r = 1; r < arguments.length; r++) {
      var t = null != arguments[r] ? arguments[r] : {};
      r % 2 ? ownKeys(Object(t), !0).forEach(function(r) {
        var value = t[r];
        a: {
          if ("object" == _typeof(r) && r) {
            var e = r[Symbol.toPrimitive];
            if (void 0 !== e) {
              r = e.call(r, "string");
              if ("object" != _typeof(r)) {
                break a;
              }
              throw new TypeError("@@toPrimitive must return a primitive value.");
            }
            r = String(r);
          }
        }
        r = "symbol" == _typeof(r) ? r : r + "";
        r in e$jscomp$0 ? Object.defineProperty(e$jscomp$0, r, {value, enumerable:!0, configurable:!0, writable:!0}) : e$jscomp$0[r] = value;
      }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e$jscomp$0, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r) {
        Object.defineProperty(e$jscomp$0, r, Object.getOwnPropertyDescriptor(t, r));
      });
    }
    return e$jscomp$0;
  }
  function valuesAreEqual(value1, value2) {
    null === value1 && (value1 = void 0);
    null === value2 && (value2 = void 0);
    return value1 === value2;
  }
  Object.defineProperty(exports, "__esModule", {value:!0});
  exports["default"] = function(props, prevProps, state) {
    var metadata = props.metadata, countries = props.countries, newDefaultCountry = props.defaultCountry, newValue = props.value, international = props.international, displayInitialValueAsLocalNumber = props.displayInitialValueAsLocalNumber, initialValueFormat = props.initialValueFormat, prevDefaultCountry = prevProps.defaultCountry, prevValue = prevProps.value, value = state.value, hasUserSelectedACountry = state.hasUserSelectedACountry;
    state = state.latestCountrySelectedByUser;
    var _getInitialPhoneDigits = function(parameters) {
      return (0,_phoneInputHelpers.getInitialPhoneDigits)(_objectSpread(_objectSpread({}, parameters), {}, {international, useNationalFormat:displayInitialValueAsLocalNumber || "national" === initialValueFormat, metadata}));
    };
    if (props.reset !== prevProps.reset) {
      return {phoneDigits:_getInitialPhoneDigits({value:void 0, defaultCountry:newDefaultCountry}), value:void 0, country:newDefaultCountry, latestCountrySelectedByUser:void 0, hasUserSelectedACountry:void 0};
    }
    if (newDefaultCountry !== prevDefaultCountry && (props = !newDefaultCountry || (0,_countries.isCountrySupportedWithError)(newDefaultCountry, metadata), prevDefaultCountry = !value || international && value === _getInitialPhoneDigits({value:void 0, defaultCountry:prevDefaultCountry}), !hasUserSelectedACountry && props && !newValue && prevDefaultCountry)) {
      return {country:newDefaultCountry, phoneDigits:_getInitialPhoneDigits({value:void 0, defaultCountry:newDefaultCountry}), value:void 0};
    }
    if (!valuesAreEqual(newValue, prevValue) && !valuesAreEqual(newValue, value)) {
      if (newValue) {
        newValue && (0,_isE164Number.validateE164Number)(newValue);
        var phoneNumber = (0,_phoneInputHelpers.parsePhoneNumber)(newValue, metadata);
        countries = (0,_countries.getSupportedCountries)(countries, metadata);
        if (phoneNumber && phoneNumber.country) {
          if (!countries || 0 <= countries.indexOf(phoneNumber.country)) {
            var parsedCountry = phoneNumber.country;
          }
        } else {
          (parsedCountry = (0,_phoneInputHelpers.getCountryForPartialE164Number)(newValue, {country:void 0, countries, metadata})) || newDefaultCountry && 0 === newValue.indexOf((0,_getInternationalPhoneNumberPrefix["default"])(newDefaultCountry, metadata)) && (parsedCountry = newDefaultCountry);
        }
      }
      var userCountrySelectionHistoryStateUpdate;
      newValue ? state && ((parsedCountry ? state === parsedCountry : (0,_phoneInputHelpers.couldNumberBelongToCountry)(newValue, state, metadata)) ? parsedCountry || (parsedCountry = state) : userCountrySelectionHistoryStateUpdate = {latestCountrySelectedByUser:void 0}) : userCountrySelectionHistoryStateUpdate = {latestCountrySelectedByUser:void 0, hasUserSelectedACountry:void 0};
      return _objectSpread(_objectSpread({}, userCountrySelectionHistoryStateUpdate), {}, {phoneDigits:_getInitialPhoneDigits({phoneNumber, value:newValue, defaultCountry:newDefaultCountry}), value:newValue, country:newValue ? parsedCountry : newDefaultCountry});
    }
  };
  exports.valuesAreEqual = valuesAreEqual;
  var _phoneInputHelpers = require("module$node_modules$react_phone_number_input$commonjs$helpers$phoneInputHelpers"), _isE164Number = require("module$node_modules$react_phone_number_input$commonjs$helpers$isE164Number"), _getInternationalPhoneNumberPrefix = function(obj) {
    return obj && obj.__esModule ? obj : {"default":obj};
  }(require("module$node_modules$react_phone_number_input$commonjs$helpers$getInternationalPhoneNumberPrefix")), _countries = require("module$node_modules$react_phone_number_input$commonjs$helpers$countries");
};

//# sourceMappingURL=module$node_modules$react_phone_number_input$commonjs$helpers$getPhoneInputWithCountryStateUpdateFromNewProps.js.map
