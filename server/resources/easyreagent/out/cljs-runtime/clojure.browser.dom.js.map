{"version":3,"sources":["clojure/browser/dom.cljs"],"mappings":"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","names":["var_args","args__5772__auto__","len__5766__auto__","i__5767__auto__","argseq__5773__auto__","cljs.core/IndexedSeq","clojure.browser.dom/append","seq20008","G__20009","cljs.core/first","cljs.core/next","self__5751__auto__","parent","children","cljs.core.apply","goog.dom/append","clojure$browser$dom$DOMBuilder$_element$dyn","x__5390__auto__","m__5391__auto__","clojure.browser.dom/-element","goog/typeOf","m__5389__auto__","cljs.core/missing-protocol","G__20080","js/Error","clojure.browser.dom/DOMBuilder","this","attrs-or-children","attrs","clojure.browser.dom/log","seq20116","self__5752__auto__","cljs.core/seq","args","js/console","cljs.core/pr-str","clojure.browser.dom/log-obj","obj","cljs.core/PROTOCOL_SENTINEL","clojure.browser.dom.log","cljs.core/Keyword","goog.dom/createElement","cljs.core/name","goog.dom/createTextNode","cljs.core/map?","cljs.core/rest","str-attrs","cljs.core.reduce","p__20202","vec__20212","cljs.core.nth","o","k","v","G__20226","clojure.browser.dom.goog$module$goog$object.set","goog.dom/createDom","cljs.core.map","cljs.core/PersistentVector","tag","cljs.core/second","cljs.core.drop","js/Element","G__20285","clojure.browser.dom/element","args-arr__5791__auto__","argseq__5792__auto__","seq20279","G__20280","tag-or-text","clojure.browser.dom/remove-children","id","goog.dom/getElement","goog.dom/removeChildren","clojure.browser.dom/get-element","clojure.browser.dom/html->dom","s","goog.dom/htmlToDocumentFragment","clojure.browser.dom/insert-at","child","index","goog.dom/insertChildAt","clojure.browser.dom/ensure-element","e","clojure.browser.dom/replace-node","old-node","new-node","goog.dom/replaceNode","clojure.browser.dom/set-text","goog.dom/setTextContent","clojure.browser.dom/get-value","clojure.browser.dom/set-properties","m","goog.dom/setProperties","clojure.browser.dom.goog$module$goog$object.create","cljs.core.interleave","cljs.core/keys","cljs.core/vals","clojure.browser.dom/set-value","clojure.browser.dom/click-element"],"sourcesContent":[";;  Copyright (c) Rich Hickey. All rights reserved.\n;;  The use and distribution terms for this software are covered by the\n;;  Eclipse Public License 1.0 (http://opensource.org/licenses/eclipse-1.0.php)\n;;  which can be found in the file epl-v10.html at the root of this distribution.\n;;  By using this software in any fashion, you are agreeing to be bound by\n;;  the terms of this license.\n;;  You must not remove this notice, or any other, from this software.\n\n(ns clojure.browser.dom\n  (:require [goog.dom :as gdom]\n            [goog.object :as gobject]))\n\n(defn append [parent & children]\n  (apply gdom/append parent children)\n  parent)\n\n(defprotocol DOMBuilder\n  (-element [this] [this attrs-or-children] [this attrs children]))\n\n(defn log [& args]\n  (.log js/console (apply pr-str args)))\n\n(defn log-obj [obj]\n  (.log js/console obj))\n\n(extend-protocol DOMBuilder\n\n  string\n  (-element\n    ([this]\n       (log \"string (-element \" this \")\")\n       (cond (keyword? this) (gdom/createElement  (name this))\n             :else           (gdom/createTextNode (name this))))\n\n    ([this attrs-or-children]\n       (log \"string (-element \" this \" \" attrs-or-children \")\")\n       (let [attrs (first attrs-or-children)]\n         (if (map? attrs)\n           (-element this attrs (rest attrs-or-children))\n           (-element this nil attrs-or-children))))\n\n    ([this attrs children]\n       (log \"string (-element \" this \" \" attrs \" \" children \")\")\n       (let [str-attrs (if (and (map? attrs) (seq attrs))\n                         (reduce (fn [o [k v]]\n                                   (let [o (if (nil? o) (js-obj) o)]\n                                     (log \"o = \" o)\n                                     (log \"k = \" k)\n                                     (log \"v = \" v)\n                                     (when (or (keyword? k)\n                                               (string? k))\n                                       (doto o (gobject/set (name k) v)))))\n                                 (js-obj)\n                                 attrs)\n                         nil)]\n         (log-obj str-attrs)\n         (if (seq children)\n           (apply gdom/createDom\n                  (name this)\n                  str-attrs\n                  (map -element children))\n           (gdom/createDom (name this)\n                           str-attrs)))))\n\n  PersistentVector\n  (-element\n    [this]\n    (log \"PersistentVector (-element \" this \")\")\n    (let [tag      (first this)\n          attrs    (second this)\n          children (drop 2 this)]\n      (if (map? attrs)\n        (-element tag attrs children)\n        (-element tag nil (rest this)))))\n\n  js/Element\n  (-element [this]\n    (log \"js/Element (-element \" this \")\")\n    this))\n\n(defn element\n  ([tag-or-text]\n     (log \"(element \" tag-or-text \")\")\n     (-element tag-or-text))\n  ([tag & children]\n     (log \"(element \" tag \" \" children \")\")\n     (let [attrs (first children)]\n       (if (map? attrs)\n         (-element tag attrs (rest children))\n         (-element tag nil children)))))\n\n(defn remove-children\n  \"Remove all children from the element with the passed id.\"\n  [id]\n  (let [parent (gdom/getElement (name id))]\n    (do (gdom/removeChildren parent))))\n\n(defn get-element [id]\n  (gdom/getElement (name id)))\n\n(defn html->dom [s]\n  (gdom/htmlToDocumentFragment s))\n\n(defn insert-at [parent child index]\n  (gdom/insertChildAt parent child index))\n\n(defn ensure-element\n  \"Coerce the argument to a dom element if possible.\"\n  [e]\n  (cond (keyword? e) (get-element e)\n        (string? e) (html->dom e)\n        :else e))\n\n(defn replace-node\n  \"Replace old-node with new-node. old-node can be an element or a\n   keyword which is the id of the node to replace.  new-node can be an\n   element or an html string.\"\n  [old-node new-node]\n  (let [old-node (ensure-element old-node)\n        new-node (ensure-element new-node)]\n    (gdom/replaceNode new-node old-node)\n    new-node))\n\n(defn set-text\n  \"Set the text content for the passed element returning the\n  element. If a keyword is passed in the place of e, the element with\n  that id will be used and returned.\"\n  [e s]\n  (gdom/setTextContent (ensure-element e) s))\n\n(defn get-value\n  \"Get the value of an element.\"\n  [e]\n  (.-value (ensure-element e)))\n\n(defn set-properties\n  \"Set properties on an element\"\n  [e m]\n  (gdom/setProperties (ensure-element e)\n                      (apply gobject/create (interleave (keys m) (vals m)))))\n\n(defn set-value\n  \"Set the value property for an element.\"\n  [e v]\n  (set-properties e {\"value\" v}))\n\n(defn click-element\n  [e]\n  (.click (ensure-element e) ()))\n\n;; TODO CSS class manipulation\n;; TODO Query syntax\n"],"x_google_ignoreList":[0]}