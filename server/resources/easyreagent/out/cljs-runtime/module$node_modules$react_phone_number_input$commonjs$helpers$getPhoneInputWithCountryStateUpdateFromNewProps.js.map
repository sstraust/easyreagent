{
"version":3,
"file":"module$node_modules$react_phone_number_input$commonjs$helpers$getPhoneInputWithCountryStateUpdateFromNewProps.js",
"lineCount":88,
"mappings":"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",
"sources":["node_modules/react-phone-number-input/commonjs/helpers/getPhoneInputWithCountryStateUpdateFromNewProps.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$react_phone_number_input$commonjs$helpers$getPhoneInputWithCountryStateUpdateFromNewProps\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = getPhoneInputWithCountryStateUpdateFromNewProps;\nexports.valuesAreEqual = valuesAreEqual;\nvar _phoneInputHelpers = require(\"./phoneInputHelpers.js\");\nvar _isE164Number = require(\"./isE164Number.js\");\nvar _getInternationalPhoneNumberPrefix = _interopRequireDefault(require(\"./getInternationalPhoneNumberPrefix.js\"));\nvar _countries = require(\"./countries.js\");\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\nfunction _typeof(o) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) { return typeof o; } : function (o) { return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o; }, _typeof(o); }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(t) { var i = _toPrimitive(t, \"string\"); return \"symbol\" == _typeof(i) ? i : i + \"\"; }\nfunction _toPrimitive(t, r) { if (\"object\" != _typeof(t) || !t) return t; var e = t[Symbol.toPrimitive]; if (void 0 !== e) { var i = e.call(t, r || \"default\"); if (\"object\" != _typeof(i)) return i; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (\"string\" === r ? String : Number)(t); }\nfunction getPhoneInputWithCountryStateUpdateFromNewProps(props, prevProps, state) {\n  var metadata = props.metadata,\n    countries = props.countries,\n    newDefaultCountry = props.defaultCountry,\n    newValue = props.value,\n    newReset = props.reset,\n    international = props.international,\n    displayInitialValueAsLocalNumber = props.displayInitialValueAsLocalNumber,\n    initialValueFormat = props.initialValueFormat;\n  var prevDefaultCountry = prevProps.defaultCountry,\n    prevValue = prevProps.value,\n    prevReset = prevProps.reset;\n  var country = state.country,\n    value = state.value,\n    hasUserSelectedACountry = state.hasUserSelectedACountry,\n    latestCountrySelectedByUser = state.latestCountrySelectedByUser;\n  var _getInitialPhoneDigits = function _getInitialPhoneDigits(parameters) {\n    return (0, _phoneInputHelpers.getInitialPhoneDigits)(_objectSpread(_objectSpread({}, parameters), {}, {\n      international: international,\n      useNationalFormat: displayInitialValueAsLocalNumber || initialValueFormat === 'national',\n      metadata: metadata\n    }));\n  };\n\n  // Some users requested a way to reset the component\n  // (both number `<input/>` and country `<select/>`).\n  // Whenever `reset` property changes both number `<input/>`\n  // and country `<select/>` are reset.\n  // It's not implemented as some instance `.reset()` method\n  // because `ref` is forwarded to `<input/>`.\n  // It's also not replaced with just resetting `country` on\n  // external `value` reset, because a user could select a country\n  // and then not input any `value`, and so the selected country\n  // would be \"stuck\", if not using this `reset` property.\n  // https://github.com/catamphetamine/react-phone-number-input/issues/300\n  if (newReset !== prevReset) {\n    return {\n      phoneDigits: _getInitialPhoneDigits({\n        value: undefined,\n        defaultCountry: newDefaultCountry\n      }),\n      value: undefined,\n      country: newDefaultCountry,\n      latestCountrySelectedByUser: undefined,\n      hasUserSelectedACountry: undefined\n    };\n  }\n\n  // `value` is the value currently shown in the component:\n  // it's stored in the component's `state`, and it's not the `value` property.\n  // `prevValue` is \"previous `value` property\".\n  // `newValue` is \"new `value` property\".\n\n  // If the default country changed\n  // (e.g. in case of ajax GeoIP detection after page loaded)\n  // then select it, but only if the user hasn't already manually\n  // selected a country, and no phone number has been manually entered so far.\n  // Because if the user has already started inputting a phone number\n  // then they're okay with no country being selected at all (\"International\")\n  // and they don't want to be disturbed, don't want their input to be screwed, etc.\n  if (newDefaultCountry !== prevDefaultCountry) {\n    var isNewDefaultCountrySupported = !newDefaultCountry || (0, _countries.isCountrySupportedWithError)(newDefaultCountry, metadata);\n    var noValueHasBeenEnteredByTheUser =\n    // By default, \"no value has been entered\" means `value` is `undefined`.\n    !value ||\n    // When `international` is `true`, and some country has been pre-selected,\n    // then the `<input/>` contains a pre-filled value of `+${countryCallingCode}${leadingDigits}`,\n    // so in case of `international` being `true`, \"the user hasn't entered anything\" situation\n    // doesn't just mean `value` is `undefined`, but could also mean `value` is `+${countryCallingCode}`.\n    international && value === _getInitialPhoneDigits({\n      value: undefined,\n      defaultCountry: prevDefaultCountry\n    });\n    // Only update the `defaultCountry` property if no phone number\n    // has been entered by the user or pre-set by the application.\n    var noValueHasBeenEntered = !newValue && noValueHasBeenEnteredByTheUser;\n    if (!hasUserSelectedACountry && isNewDefaultCountrySupported && noValueHasBeenEntered) {\n      return {\n        country: newDefaultCountry,\n        // If `phoneDigits` is empty, then automatically select the new `country`\n        // and set `phoneDigits` to `+{getCountryCallingCode(newCountry)}`.\n        // The code assumes that \"no phone number has been entered by the user\",\n        // and no `value` property has been passed, so the `phoneNumber` parameter\n        // of `_getInitialPhoneDigits({ value, phoneNumber, ... })` is `undefined`.\n        phoneDigits: _getInitialPhoneDigits({\n          value: undefined,\n          defaultCountry: newDefaultCountry\n        }),\n        // `value` is `undefined` and it stays so.\n        value: undefined\n      };\n    }\n  }\n\n  // If a new `value` is set externally.\n  // (e.g. as a result of an ajax API request\n  //  to get user's phone after page loaded)\n  // The first part \u2014 `newValue !== prevValue` \u2014\n  // is basically `props.value !== prevProps.value`\n  // so it means \"if value property was changed externally\".\n  // The second part \u2014 `newValue !== value` \u2014\n  // is for ignoring the `getDerivedStateFromProps()` call\n  // which happens in `this.onChange()` right after `this.setState()`.\n  // If this `getDerivedStateFromProps()` call isn't ignored\n  // then the country flag would reset on each input.\n  if (!valuesAreEqual(newValue, prevValue) && !valuesAreEqual(newValue, value)) {\n    var phoneNumber;\n    var parsedCountry;\n    if (newValue) {\n      // Validate that the newly-supplied `value` is in `E.164` format.\n      // Because sometimes people attempt to supply a `value` like \"+1 (879) 490-8676\".\n      // https://gitlab.com/catamphetamine/react-phone-number-input/-/issues/231#note_2016334796\n      if (newValue) {\n        (0, _isE164Number.validateE164Number)(newValue);\n      }\n      phoneNumber = (0, _phoneInputHelpers.parsePhoneNumber)(newValue, metadata);\n      var supportedCountries = (0, _countries.getSupportedCountries)(countries, metadata);\n      if (phoneNumber && phoneNumber.country) {\n        // Ignore `else` because all countries are supported in metadata.\n        /* istanbul ignore next */\n        if (!supportedCountries || supportedCountries.indexOf(phoneNumber.country) >= 0) {\n          parsedCountry = phoneNumber.country;\n        }\n      } else {\n        parsedCountry = (0, _phoneInputHelpers.getCountryForPartialE164Number)(newValue, {\n          country: undefined,\n          countries: supportedCountries,\n          metadata: metadata\n        });\n\n        // In cases when multiple countries correspond to the same country calling code,\n        // the phone number digits of `newValue` have to be matched against country-specific\n        // regular expressions in order to determine the exact country.\n        // Sometimes, that algorithm can't decide for sure which country does the phone number belong to,\n        // for example when the digits of `newValue` don't match any of those regular expressions.\n        // and the country of the phone number couldn't be determined.\n        // In those cases, people prefer the component to show the flag of the `defaultCountry`\n        // if the phone number could potentially belong to that `defaultCountry`.\n        // At least that's how the component behaves when a user pastes an international\n        // phone number into the input field: for example, when `defaultCountry` is `\"US\"`\n        // and the user pastes value \"+1 555 555 5555\" into the input field, it keep showing \"US\" flag.\n        // So when setting new `value` property externally, the component should behave the same way:\n        // it should select the `defaultCountry` when the new `value` could potentially belong\n        // to that country in cases when the exact country can't be determined.\n        // https://github.com/catamphetamine/react-phone-number-input/issues/413#issuecomment-1536219404\n        if (!parsedCountry) {\n          if (newDefaultCountry) {\n            if (newValue.indexOf((0, _getInternationalPhoneNumberPrefix[\"default\"])(newDefaultCountry, metadata)) === 0) {\n              parsedCountry = newDefaultCountry;\n            }\n          }\n        }\n      }\n    }\n    var userCountrySelectionHistoryStateUpdate;\n    if (newValue) {\n      // If the latest country that has been manually selected by the user\n      // no longer corresponds to the new value then reset it.\n      if (latestCountrySelectedByUser) {\n        var couldNewValueCorrespondToLatestCountrySelectedByUser = parsedCountry ? latestCountrySelectedByUser === parsedCountry : (0, _phoneInputHelpers.couldNumberBelongToCountry)(newValue, latestCountrySelectedByUser, metadata);\n        if (couldNewValueCorrespondToLatestCountrySelectedByUser) {\n          if (!parsedCountry) {\n            parsedCountry = latestCountrySelectedByUser;\n          }\n        } else {\n          userCountrySelectionHistoryStateUpdate = {\n            latestCountrySelectedByUser: undefined\n          };\n        }\n      }\n    } else {\n      // When the `value` property is being reset \"externally\",\n      // reset any tracking of the country that the user has previously selected.\n      userCountrySelectionHistoryStateUpdate = {\n        latestCountrySelectedByUser: undefined,\n        hasUserSelectedACountry: undefined\n      };\n    }\n    return _objectSpread(_objectSpread({}, userCountrySelectionHistoryStateUpdate), {}, {\n      phoneDigits: _getInitialPhoneDigits({\n        phoneNumber: phoneNumber,\n        value: newValue,\n        defaultCountry: newDefaultCountry\n      }),\n      value: newValue,\n      country: newValue ? parsedCountry : newDefaultCountry\n    });\n  }\n\n  // `defaultCountry` didn't change.\n  // `value` didn't change.\n  // `phoneDigits` didn't change, because `value` didn't change.\n  //\n  // So no need to update state.\n}\nfunction valuesAreEqual(value1, value2) {\n  // If `value` has been set to `null` externally then convert it to `undefined`.\n  //\n  // For example, `react-hook-form` sets `value` to `null` when the user clears the input.\n  // https://gitlab.com/catamphetamine/react-phone-number-input/-/issues/164\n  // In that case, without this conversion of `null` to `undefined`, it would reset\n  // the selected country to `defaultCountry` because in that case `newValue !== value`\n  // because `null !== undefined`.\n  //\n  // Historically, empty `value` is encoded as `undefined`.\n  // Perhaps empty `value` would be better encoded as `null` instead.\n  // But because that would be a potentially breaking change for some people,\n  // it's left as is for the current \"major\" version of this library.\n  //\n  if (value1 === null) {\n    value1 = undefined;\n  }\n  if (value2 === null) {\n    value2 = undefined;\n  }\n  return value1 === value2;\n}\n//# sourceMappingURL=getPhoneInputWithCountryStateUpdateFromNewProps.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_typeof","o","Symbol","iterator","constructor","prototype","ownKeys","e","r","t","Object","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","enumerable","push","apply","_objectSpread","arguments","length","forEach","toPrimitive","i","call","TypeError","String","key","defineProperty","value","configurable","writable","getOwnPropertyDescriptors","defineProperties","valuesAreEqual","value1","value2","undefined","getPhoneInputWithCountryStateUpdateFromNewProps","props","prevProps","state","metadata","countries","newDefaultCountry","defaultCountry","newValue","international","displayInitialValueAsLocalNumber","initialValueFormat","prevDefaultCountry","prevValue","hasUserSelectedACountry","latestCountrySelectedByUser","_getInitialPhoneDigits","parameters","_phoneInputHelpers","getInitialPhoneDigits","useNationalFormat","reset","phoneDigits","country","isNewDefaultCountrySupported","noValueHasBeenEntered","_countries","isCountrySupportedWithError","noValueHasBeenEnteredByTheUser","_isE164Number","validateE164Number","phoneNumber","parsePhoneNumber","supportedCountries","getSupportedCountries","indexOf","parsedCountry","getCountryForPartialE164Number","_getInternationalPhoneNumberPrefix","userCountrySelectionHistoryStateUpdate","couldNewValueCorrespondToLatestCountrySelectedByUser","couldNumberBelongToCountry","_interopRequireDefault","obj","__esModule"]
}
