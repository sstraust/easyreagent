shadow$provide.module$node_modules$libphonenumber_js$build$AsYouTypeFormatter = function(global, require, module, exports) {
  function _typeof(obj) {
    "@babel/helpers - typeof";
    return _typeof = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(obj) {
      return typeof obj;
    } : function(obj) {
      return obj && "function" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? "symbol" : typeof obj;
    }, _typeof(obj);
  }
  function _interopRequireDefault(obj) {
    return obj && obj.__esModule ? obj : {"default":obj};
  }
  function _getRequireWildcardCache(nodeInterop) {
    if ("function" !== typeof WeakMap) {
      return null;
    }
    var cacheBabelInterop = new WeakMap(), cacheNodeInterop = new WeakMap();
    return (_getRequireWildcardCache = function(nodeInterop) {
      return nodeInterop ? cacheNodeInterop : cacheBabelInterop;
    })(nodeInterop);
  }
  function _createForOfIteratorHelperLoose(o, allowArrayLike) {
    var it = "undefined" !== typeof Symbol && o[Symbol.iterator] || o["@@iterator"];
    if (it) {
      return (it = it.call(o)).next.bind(it);
    }
    if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && "number" === typeof o.length) {
      it && (o = it);
      var i = 0;
      return function() {
        return i >= o.length ? {done:!0} : {done:!1, value:o[i++]};
      };
    }
    throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
  }
  function _unsupportedIterableToArray(o, minLen) {
    if (o) {
      if ("string" === typeof o) {
        return _arrayLikeToArray(o, minLen);
      }
      var n = Object.prototype.toString.call(o).slice(8, -1);
      "Object" === n && o.constructor && (n = o.constructor.name);
      if ("Map" === n || "Set" === n) {
        return Array.from(o);
      }
      if ("Arguments" === n || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) {
        return _arrayLikeToArray(o, minLen);
      }
    }
  }
  function _arrayLikeToArray(arr, len) {
    if (null == len || len > arr.length) {
      len = arr.length;
    }
    for (var i = 0, arr2 = Array(len); i < len; i++) {
      arr2[i] = arr[i];
    }
    return arr2;
  }
  function _defineProperties(target, props) {
    for (var i = 0; i < props.length; i++) {
      var descriptor = props[i];
      descriptor.enumerable = descriptor.enumerable || !1;
      descriptor.configurable = !0;
      "value" in descriptor && (descriptor.writable = !0);
      Object.defineProperty(target, descriptor.key, descriptor);
    }
  }
  function _createClass(Constructor, protoProps, staticProps) {
    protoProps && _defineProperties(Constructor.prototype, protoProps);
    staticProps && _defineProperties(Constructor, staticProps);
    Object.defineProperty(Constructor, "prototype", {writable:!1});
    return Constructor;
  }
  Object.defineProperty(exports, "__esModule", {value:!0});
  Object.defineProperty(exports, "DIGIT_PLACEHOLDER", {enumerable:!0, get:function() {
    return _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER;
  }});
  exports["default"] = void 0;
  var _AsYouTypeFormatterUtil = require("module$node_modules$libphonenumber_js$build$AsYouTypeFormatter_util"), _AsYouTypeFormatterComplete = function(obj, nodeInterop) {
    if (!nodeInterop && obj && obj.__esModule) {
      return obj;
    }
    if (null === obj || "object" !== _typeof(obj) && "function" !== typeof obj) {
      return {"default":obj};
    }
    if ((nodeInterop = _getRequireWildcardCache(nodeInterop)) && nodeInterop.has(obj)) {
      return nodeInterop.get(obj);
    }
    var newObj = {}, hasPropertyDescriptor = Object.defineProperty && Object.getOwnPropertyDescriptor, key;
    for (key in obj) {
      if ("default" !== key && Object.prototype.hasOwnProperty.call(obj, key)) {
        var desc = hasPropertyDescriptor ? Object.getOwnPropertyDescriptor(obj, key) : null;
        desc && (desc.get || desc.set) ? Object.defineProperty(newObj, key, desc) : newObj[key] = obj[key];
      }
    }
    newObj["default"] = obj;
    nodeInterop && nodeInterop.set(obj, newObj);
    return newObj;
  }(require("module$node_modules$libphonenumber_js$build$AsYouTypeFormatter_complete")), _AsYouTypeFormatterPatternMatcher = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$AsYouTypeFormatter_PatternMatcher")), _parseDigits = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$parseDigits")), _formatNationalNumberUsingFormat = require("module$node_modules$libphonenumber_js$build$helpers$formatNationalNumberUsingFormat");
  global = require("module$node_modules$libphonenumber_js$build$constants");
  var _applyInternationalSeparatorStyle = _interopRequireDefault(require("module$node_modules$libphonenumber_js$build$helpers$applyInternationalSeparatorStyle")), LONGEST_DUMMY_PHONE_NUMBER = (0,_AsYouTypeFormatterUtil.repeat)("9", 15), NATIONAL_PREFIX_SEPARATORS_PATTERN = /[- ]/, NON_ALTERING_FORMAT_REG_EXP = new RegExp("[" + global.VALID_PUNCTUATION + "]*\\$1[" + global.VALID_PUNCTUATION + "]*(\\$\\d[" + global.VALID_PUNCTUATION + "]*)*$");
  require = function() {
    function AsYouTypeFormatter(_ref) {
      _ref = _ref.metadata;
      if (!(this instanceof AsYouTypeFormatter)) {
        throw new TypeError("Cannot call a class as a function");
      }
      this.metadata = _ref;
      this.resetFormat();
    }
    _createClass(AsYouTypeFormatter, [{key:"resetFormat", value:function() {
      this.populatedNationalNumberTemplate = this.nationalNumberTemplate = this.template = this.chosenFormat = void 0;
      this.populatedNationalNumberTemplatePosition = -1;
    }}, {key:"reset", value:function(numberingPlan, state) {
      this.resetFormat();
      numberingPlan ? (this.isNANP = "1" === numberingPlan.callingCode(), this.matchingFormats = numberingPlan.formats(), state.nationalSignificantNumber && this.narrowDownMatchingFormats(state)) : (this.isNANP = void 0, this.matchingFormats = []);
    }}, {key:"format", value:function(nextDigits, state) {
      var _this = this;
      if ((0,_AsYouTypeFormatterComplete.canFormatCompleteNumber)(state.nationalSignificantNumber, this.metadata)) {
        for (var _iterator = _createForOfIteratorHelperLoose(this.matchingFormats), _step; !(_step = _iterator()).done;) {
          _step = _step.value;
          var formattedCompleteNumber = (0,_AsYouTypeFormatterComplete["default"])(state, _step, {metadata:this.metadata, shouldTryNationalPrefixFormattingRule:function(format) {
            return _this.shouldTryNationalPrefixFormattingRule(format, {international:state.international, nationalPrefix:state.nationalPrefix});
          }, getSeparatorAfterNationalPrefix:function(format) {
            return _this.getSeparatorAfterNationalPrefix(format);
          }});
          if (formattedCompleteNumber) {
            return this.resetFormat(), this.chosenFormat = _step, this.setNationalNumberTemplate(formattedCompleteNumber.replace(/\d/g, _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER), state), this.populatedNationalNumberTemplate = formattedCompleteNumber, this.populatedNationalNumberTemplatePosition = this.template.lastIndexOf(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER), formattedCompleteNumber;
          }
        }
      }
      return this.formatNationalNumberWithNextDigits(nextDigits, state);
    }}, {key:"formatNationalNumberWithNextDigits", value:function(nextDigits, state) {
      var previouslyChosenFormat = this.chosenFormat, newlyChosenFormat = this.chooseFormat(state);
      if (newlyChosenFormat) {
        return newlyChosenFormat === previouslyChosenFormat ? this.formatNextNationalNumberDigits(nextDigits) : this.formatNextNationalNumberDigits(state.getNationalDigits());
      }
    }}, {key:"narrowDownMatchingFormats", value:function(_ref2) {
      var _this2 = this, nationalPrefix = _ref2.nationalPrefix, international = _ref2.international, leadingDigits = _ref2.nationalSignificantNumber, leadingDigitsPatternIndex = leadingDigits.length - 3;
      0 > leadingDigitsPatternIndex && (leadingDigitsPatternIndex = 0);
      this.matchingFormats = this.matchingFormats.filter(function(format) {
        return _this2.formatSuits(format, international, nationalPrefix) && _this2.formatMatches(format, leadingDigits, leadingDigitsPatternIndex);
      });
      this.chosenFormat && -1 === this.matchingFormats.indexOf(this.chosenFormat) && this.resetFormat();
    }}, {key:"formatSuits", value:function(format, international, nationalPrefix) {
      return nationalPrefix && !format.usesNationalPrefix() && !format.nationalPrefixIsOptionalWhenFormattingInNationalFormat() || !international && !nationalPrefix && format.nationalPrefixIsMandatoryWhenFormattingInNationalFormat() ? !1 : !0;
    }}, {key:"formatMatches", value:function(format, leadingDigits, leadingDigitsPatternIndex) {
      var leadingDigitsPatternsCount = format.leadingDigitsPatterns().length;
      if (0 === leadingDigitsPatternsCount) {
        return !0;
      }
      leadingDigitsPatternIndex = Math.min(leadingDigitsPatternIndex, leadingDigitsPatternsCount - 1);
      format = format.leadingDigitsPatterns()[leadingDigitsPatternIndex];
      if (3 > leadingDigits.length) {
        try {
          return void 0 !== (new _AsYouTypeFormatterPatternMatcher["default"](format)).match(leadingDigits, {allowOverflow:!0});
        } catch (error) {
          return console.error(error), !0;
        }
      }
      return (new RegExp("^(".concat(format, ")"))).test(leadingDigits);
    }}, {key:"getFormatFormat", value:function(format, international) {
      return international ? format.internationalFormat() : format.format();
    }}, {key:"chooseFormat", value:function(state) {
      for (var _this3 = this, _loop = function() {
        var format = _step2.value;
        if (_this3.chosenFormat === format) {
          return "break";
        }
        if (!NON_ALTERING_FORMAT_REG_EXP.test(_this3.getFormatFormat(format, state.international))) {
          return "continue";
        }
        if (!_this3.createTemplateForFormat(format, state)) {
          return _this3.matchingFormats = _this3.matchingFormats.filter(function(_) {
            return _ !== format;
          }), "continue";
        }
        _this3.chosenFormat = format;
        return "break";
      }, _iterator2 = _createForOfIteratorHelperLoose(this.matchingFormats.slice()), _step2; !(_step2 = _iterator2()).done && "break" !== _loop();) {
      }
      this.chosenFormat || this.resetFormat();
      return this.chosenFormat;
    }}, {key:"createTemplateForFormat", value:function(format, state) {
      if (!(0 <= format.pattern().indexOf("|")) && (format = this.getTemplateForFormat(format, state))) {
        return this.setNationalNumberTemplate(format, state), !0;
      }
    }}, {key:"getSeparatorAfterNationalPrefix", value:function(format) {
      return this.isNANP || format && format.nationalPrefixFormattingRule() && NATIONAL_PREFIX_SEPARATORS_PATTERN.test(format.nationalPrefixFormattingRule()) ? " " : "";
    }}, {key:"getInternationalPrefixBeforeCountryCallingCode", value:function(_ref3, options) {
      var IDDPrefix = _ref3.IDDPrefix;
      return IDDPrefix ? options && !1 === options.spacing ? IDDPrefix : IDDPrefix + " " : _ref3.missingPlus ? "" : "+";
    }}, {key:"getTemplate", value:function(state) {
      if (this.template) {
        for (var index = -1, i = 0, internationalPrefix = state.international ? this.getInternationalPrefixBeforeCountryCallingCode(state, {spacing:!1}) : ""; i < internationalPrefix.length + state.getDigitsWithoutInternationalPrefix().length;) {
          index = this.template.indexOf(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER, index + 1), i++;
        }
        return (0,_AsYouTypeFormatterUtil.cutAndStripNonPairedParens)(this.template, index + 1);
      }
    }}, {key:"setNationalNumberTemplate", value:function(template, state) {
      this.populatedNationalNumberTemplate = this.nationalNumberTemplate = template;
      this.populatedNationalNumberTemplatePosition = -1;
      this.template = state.international ? this.getInternationalPrefixBeforeCountryCallingCode(state).replace(/[\d\+]/g, _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER) + (0,_AsYouTypeFormatterUtil.repeat)(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER, state.callingCode.length) + " " + template : template;
    }}, {key:"getTemplateForFormat", value:function(format, _ref4) {
      var nationalSignificantNumber = _ref4.nationalSignificantNumber, international = _ref4.international, nationalPrefix = _ref4.nationalPrefix;
      _ref4 = _ref4.complexPrefixBeforeNationalSignificantNumber;
      var pattern = format.pattern();
      pattern = pattern.replace(/\[([^\[\]])*\]/g, "\\d").replace(/\d(?=[^,}][^,}])/g, "\\d");
      var digits = LONGEST_DUMMY_PHONE_NUMBER.match(pattern)[0];
      if (!(nationalSignificantNumber.length > digits.length)) {
        var strictPattern = new RegExp("^" + pattern + "$");
        nationalSignificantNumber = nationalSignificantNumber.replace(/\d/g, "9");
        strictPattern.test(nationalSignificantNumber) && (digits = nationalSignificantNumber);
        nationalSignificantNumber = this.getFormatFormat(format, international);
        if (this.shouldTryNationalPrefixFormattingRule(format, {international, nationalPrefix}) && (strictPattern = nationalSignificantNumber.replace(_formatNationalNumberUsingFormat.FIRST_GROUP_PATTERN, format.nationalPrefixFormattingRule()), (0,_parseDigits["default"])(format.nationalPrefixFormattingRule()) === (nationalPrefix || "") + (0,_parseDigits["default"])("$1"))) {
          nationalSignificantNumber = strictPattern;
          var nationalPrefixIncludedInTemplate = !0;
          if (nationalPrefix) {
            for (strictPattern = nationalPrefix.length; 0 < strictPattern;) {
              nationalSignificantNumber = nationalSignificantNumber.replace(/\d/, _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER), strictPattern--;
            }
          }
        }
        pattern = digits.replace(new RegExp(pattern), nationalSignificantNumber).replace(RegExp("9", "g"), _AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER);
        nationalPrefixIncludedInTemplate || (_ref4 ? pattern = (0,_AsYouTypeFormatterUtil.repeat)(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER, _ref4.length) + " " + pattern : nationalPrefix && (pattern = (0,_AsYouTypeFormatterUtil.repeat)(_AsYouTypeFormatterUtil.DIGIT_PLACEHOLDER, nationalPrefix.length) + this.getSeparatorAfterNationalPrefix(format) + pattern));
        international && (pattern = (0,_applyInternationalSeparatorStyle["default"])(pattern));
        return pattern;
      }
    }}, {key:"formatNextNationalNumberDigits", value:function(digits) {
      if (digits = (0,_AsYouTypeFormatterUtil.populateTemplateWithDigits)(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition, digits)) {
        return this.populatedNationalNumberTemplate = digits[0], this.populatedNationalNumberTemplatePosition = digits[1], (0,_AsYouTypeFormatterUtil.cutAndStripNonPairedParens)(this.populatedNationalNumberTemplate, this.populatedNationalNumberTemplatePosition + 1);
      }
      this.resetFormat();
    }}, {key:"shouldTryNationalPrefixFormattingRule", value:function(format, _ref5) {
      var international = _ref5.international;
      _ref5 = _ref5.nationalPrefix;
      if (format.nationalPrefixFormattingRule() && ((format = format.usesNationalPrefix()) && _ref5 || !format && !international)) {
        return !0;
      }
    }}]);
    return AsYouTypeFormatter;
  }();
  exports["default"] = require;
};

//# sourceMappingURL=module$node_modules$libphonenumber_js$build$AsYouTypeFormatter.js.map
