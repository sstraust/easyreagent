{
"version":3,
"file":"module$node_modules$libphonenumber_js$build$helpers$extractCountryCallingCode.js",
"lineCount":39,
"mappings":"AAAAA,cAAA,CAAA,6EAAA,GAAkG,QAAQ,CAACC,MAAD,EAAQC,OAAR,EAAgBC,MAAhB,EAAuBC,OAAvB,CAAgC;AAgB1IC,UAASA,uBAAsB,CAACC,GAAD,CAAM;AAAE,WAAOA,GAAA,IAAOA,GAAIC,CAAAA,UAAX,GAAwBD,GAAxB,GAA8B,CAAE,UAAWA,GAAb,CAArC;AAAF;AAbrCE,QAAOC,CAAAA,cAAP,CAAsBL,OAAtB,EAA+B,YAA/B,EAA6C,CAC3CM,MAAO,CAAA,CADoC,CAA7C,CAAA;AAGAN,SAAA,CAAQ,SAAR,CAAA,GA8BAO,QAAkC,CAACC,MAAD,EAASC,OAAT,EAAkBC,WAAlB,EAA+BC,QAA/B,CAAyC;AACzE,QAAI,CAACH,MAAL;AACE,aAAO,EAAP;AADF;AAYA,QAAkB,GAAlB,KAAIA,MAAA,CAAO,CAAP,CAAJ,CAAuB;AAGrB,UAAII,mBAAmB,GAAIC,eAAA,CAAgB,SAAhB,CAAJ,EAAgCL,MAAhC,EAAwCC,OAAxC,EAAiDC,WAAjD,EAA8DC,QAA9D,CAAvB;AAIA,UAAIC,gBAAJ,IAAwBA,gBAAxB,KAA6CJ,MAA7C,CAAqD;AACnD,YAAAM,wBAAwB,CAAA,CAAxB;AACAN,cAAA,GAAS,GAAT,GAAeI,gBAAf;AAFmD,OAArD,KAGO;AAKL,YAAIH,OAAJ,IAAeC,WAAf;AAKE,cAJIK,qBAIAC,GAJwB,GAAIC,gEAAA,CAAiE,SAAjE,CAAJ,EAAiFT,MAAjF,EAAyFC,OAAzF,EAAkGC,WAAlG,EAA+GC,QAA/G,CAIxBK,EAHAA,QAGAA,GAHqBD,qBAAsBC,CAAAA,kBAG3CA,EAFAE,qBAEAF,GAFgBD,qBAAsBP,CAAAA,MAEtCQ,EAAAA,QAAJ;AACE,mBAAO,CACLG,yBAA0B,+BADrB,EAELH,mBAAoBA,QAFf,EAGLR,OAAQU,qBAHH,CAAP;AADF;AALF;AAcA,eAAO,CAGGV,MAHH,CAAP;AAnBK;AAVc;AAsCvB,QAAkB,GAAlB,KAAIA,MAAA,CAAO,CAAP,CAAJ;AACE,aAAO,EAAP;AADF;AAIAG,YAAA,GAAW,IAAIS,SAAA,CAAU,SAAV,CAAJ,CAAyBT,QAAzB,CAAX;AAYA,SAFIU,OAEJ,GAFQ,CAER,EAAOA,OAAP,GAAW,CAAX,IAAgBC,UAAWC,CAAAA,uBAA3B,IAAsDF,OAAtD,IAA2Db,MAAOgB,CAAAA,MAAlE,CAAA,CAA0E;AACpEC,iBAAAA,GAAsBjB,MAAOkB,CAAAA,KAAP,CAAa,CAAb,EAAgBL,OAAhB,CAAtBI;AAEJ,UAAId,QAASgB,CAAAA,cAAT,CAAwBF,WAAxB,CAAJ;AAEE,eADAd,QAASiB,CAAAA,mBAAT,CAA6BH,WAA7B,CACO,EAAA,CACLN,yBAA0BL,qBAAA,GAAwB,sBAAxB,GAAiD,4BADtE,EAELE,mBAAoBS,WAFf,EAGLjB,OAAQA,MAAOkB,CAAAA,KAAP,CAAaL,OAAb,CAHH,CAAP;AAFF;AASAA,aAAA,EAAA;AAZwE;AAe1E,WAAO,EAAP;AAlFyE,GA9B3E;AAEA,MAAIR,kBAAkBZ,sBAAA,CAAuBH,OAAA,CAAQ,oEAAR,CAAvB,CAAtB,EAEImB,mEAAmEhB,sBAAA,CAAuBH,OAAA,CAAQ,qHAAR,CAAvB,CAFvE,EAIIsB,YAAYnB,sBAAA,CAAuBH,OAAA,CAAQ,sDAAR,CAAvB,CAJhB,EAMIwB,aAAaxB,OAAA,CAAQ,uDAAR,CANjB;AAR0I,CAA1I;;",
"sources":["node_modules/libphonenumber-js/build/helpers/extractCountryCallingCode.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$libphonenumber_js$build$helpers$extractCountryCallingCode\"] = function(global,require,module,exports) {\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = extractCountryCallingCode;\n\nvar _stripIddPrefix = _interopRequireDefault(require(\"./stripIddPrefix.js\"));\n\nvar _extractCountryCallingCodeFromInternationalNumberWithoutPlusSign = _interopRequireDefault(require(\"./extractCountryCallingCodeFromInternationalNumberWithoutPlusSign.js\"));\n\nvar _metadata = _interopRequireDefault(require(\"../metadata.js\"));\n\nvar _constants = require(\"../constants.js\");\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { \"default\": obj }; }\n\n/**\r\n * Converts a phone number digits (possibly with a `+`)\r\n * into a calling code and the rest phone number digits.\r\n * The \"rest phone number digits\" could include\r\n * a national prefix, carrier code, and national\r\n * (significant) number.\r\n * @param  {string} number \u2014 Phone number digits (possibly with a `+`).\r\n * @param  {string} [country] \u2014\u00a0Default country.\r\n * @param  {string} [callingCode] \u2014 Default calling code (some phone numbering plans are non-geographic).\r\n * @param  {object} metadata\r\n * @return {object} `{ countryCallingCodeSource: string?, countryCallingCode: string?, number: string }`\r\n * @example\r\n * // Returns `{ countryCallingCode: \"1\", number: \"2133734253\" }`.\r\n * extractCountryCallingCode('2133734253', 'US', null, metadata)\r\n * extractCountryCallingCode('2133734253', null, '1', metadata)\r\n * extractCountryCallingCode('+12133734253', null, null, metadata)\r\n * extractCountryCallingCode('+12133734253', 'RU', null, metadata)\r\n */\nfunction extractCountryCallingCode(number, country, callingCode, metadata) {\n  if (!number) {\n    return {};\n  }\n\n  var isNumberWithIddPrefix; // If this is not an international phone number,\n  // then either extract an \"IDD\" prefix, or extract a\n  // country calling code from a number by autocorrecting it\n  // by prepending a leading `+` in cases when it starts\n  // with the country calling code.\n  // https://wikitravel.org/en/International_dialling_prefix\n  // https://github.com/catamphetamine/libphonenumber-js/issues/376\n\n  if (number[0] !== '+') {\n    // Convert an \"out-of-country\" dialing phone number\n    // to a proper international phone number.\n    var numberWithoutIDD = (0, _stripIddPrefix[\"default\"])(number, country, callingCode, metadata); // If an IDD prefix was stripped then\n    // convert the number to international one\n    // for subsequent parsing.\n\n    if (numberWithoutIDD && numberWithoutIDD !== number) {\n      isNumberWithIddPrefix = true;\n      number = '+' + numberWithoutIDD;\n    } else {\n      // Check to see if the number starts with the country calling code\n      // for the default country. If so, we remove the country calling code,\n      // and do some checks on the validity of the number before and after.\n      // https://github.com/catamphetamine/libphonenumber-js/issues/376\n      if (country || callingCode) {\n        var _extractCountryCallin = (0, _extractCountryCallingCodeFromInternationalNumberWithoutPlusSign[\"default\"])(number, country, callingCode, metadata),\n            countryCallingCode = _extractCountryCallin.countryCallingCode,\n            shorterNumber = _extractCountryCallin.number;\n\n        if (countryCallingCode) {\n          return {\n            countryCallingCodeSource: 'FROM_NUMBER_WITHOUT_PLUS_SIGN',\n            countryCallingCode: countryCallingCode,\n            number: shorterNumber\n          };\n        }\n      }\n\n      return {\n        // No need to set it to `UNSPECIFIED`. It can be just `undefined`.\n        // countryCallingCodeSource: 'UNSPECIFIED',\n        number: number\n      };\n    }\n  } // Fast abortion: country codes do not begin with a '0'\n\n\n  if (number[1] === '0') {\n    return {};\n  }\n\n  metadata = new _metadata[\"default\"](metadata); // The thing with country phone codes\n  // is that they are orthogonal to each other\n  // i.e. there's no such country phone code A\n  // for which country phone code B exists\n  // where B starts with A.\n  // Therefore, while scanning digits,\n  // if a valid country code is found,\n  // that means that it is the country code.\n  //\n\n  var i = 2;\n\n  while (i - 1 <= _constants.MAX_LENGTH_COUNTRY_CODE && i <= number.length) {\n    var _countryCallingCode = number.slice(1, i);\n\n    if (metadata.hasCallingCode(_countryCallingCode)) {\n      metadata.selectNumberingPlan(_countryCallingCode);\n      return {\n        countryCallingCodeSource: isNumberWithIddPrefix ? 'FROM_NUMBER_WITH_IDD' : 'FROM_NUMBER_WITH_PLUS_SIGN',\n        countryCallingCode: _countryCallingCode,\n        number: number.slice(i)\n      };\n    }\n\n    i++;\n  }\n\n  return {};\n} // The possible values for the returned `countryCallingCodeSource` are:\n//\n// Copy-pasted from:\n// https://github.com/google/libphonenumber/blob/master/resources/phonenumber.proto\n//\n// // The source from which the country_code is derived. This is not set in the\n// // general parsing method, but in the method that parses and keeps raw_input.\n// // New fields could be added upon request.\n// enum CountryCodeSource {\n//  // Default value returned if this is not set, because the phone number was\n//  // created using parse, not parseAndKeepRawInput. hasCountryCodeSource will\n//  // return false if this is the case.\n//  UNSPECIFIED = 0;\n//\n//  // The country_code is derived based on a phone number with a leading \"+\",\n//  // e.g. the French number \"+33 1 42 68 53 00\".\n//  FROM_NUMBER_WITH_PLUS_SIGN = 1;\n//\n//  // The country_code is derived based on a phone number with a leading IDD,\n//  // e.g. the French number \"011 33 1 42 68 53 00\", as it is dialled from US.\n//  FROM_NUMBER_WITH_IDD = 5;\n//\n//  // The country_code is derived based on a phone number without a leading\n//  // \"+\", e.g. the French number \"33 1 42 68 53 00\" when defaultCountry is\n//  // supplied as France.\n//  FROM_NUMBER_WITHOUT_PLUS_SIGN = 10;\n//\n//  // The country_code is derived NOT based on the phone number itself, but\n//  // from the defaultCountry parameter provided in the parsing function by the\n//  // clients. This happens mostly for numbers written in the national format\n//  // (without country code). For example, this would be set when parsing the\n//  // French number \"01 42 68 53 00\", when defaultCountry is supplied as\n//  // France.\n//  FROM_DEFAULT_COUNTRY = 20;\n// }\n//# sourceMappingURL=extractCountryCallingCode.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_interopRequireDefault","obj","__esModule","Object","defineProperty","value","extractCountryCallingCode","number","country","callingCode","metadata","numberWithoutIDD","_stripIddPrefix","isNumberWithIddPrefix","_extractCountryCallin","countryCallingCode","_extractCountryCallingCodeFromInternationalNumberWithoutPlusSign","shorterNumber","countryCallingCodeSource","_metadata","i","_constants","MAX_LENGTH_COUNTRY_CODE","length","_countryCallingCode","slice","hasCallingCode","selectNumberingPlan"]
}
